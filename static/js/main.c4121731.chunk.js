(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={Overlay:"Modal_Overlay__3k5Bj",Modal:"Modal_Modal__2p5Hv",modal_image:"Modal_modal_image__3DeoO"}},11:function(e,t,n){e.exports={button:"Button_button__1Vaj5"}},17:function(e,t,n){},18:function(e,t,n){},4:function(e,t,n){e.exports={searchForm:"Searchbar_searchForm__2u0Xb",form_button:"Searchbar_form_button__2rVTp",button_label:"Searchbar_button_label__1dAJb",button_input:"Searchbar_button_input__3iNQ0"}},40:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),o=n.n(r),i=(n(17),n(3)),s=(n(18),n(8)),u=n.n(s),l=n(1);function m(e){var t=e.onOpen,n=e.images,a=function(e){var n=e.currentTarget.id;t(n)};return Object(l.jsx)(l.Fragment,{children:n.map((function(e){return Object(l.jsx)("li",{id:e.id,className:u.a.gallery_item,onClick:a,children:Object(l.jsx)("img",{src:e.webformatURL,alt:e.tags,className:u.a.item_image})},e.id)}))})}var b=n(9),j=n.n(b);var d={fetchImage:function(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("23526463-69d460dc9366e545ff49935bb","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ".concat(e)))}))}},f=n(10),h=n.n(f);function _(e){var t=e.onClose,n=e.children;Object(a.useEffect)((function(){window.addEventListener("keydown",c)}),[]);var c=function e(n){"Escape"===n.code&&(t(),window.removeEventListener("keydown",e))};return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:h.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(l.jsx)("div",{className:h.a.Modal,children:n})})})}var g=n(11),O=n.n(g),p=function(e){var t=e.title,n=e.onClickLoad;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("button",{type:"button",className:O.a.button,onClick:n,children:t})})},x=n(12),v=n.n(x);function y(e){var t=e.searchName,n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)(1),u=Object(i.a)(s,2),b=u[0],f=u[1],h=Object(a.useState)(null),g=Object(i.a)(h,2),O=g[0],x=g[1],y=Object(a.useState)(!1),S=Object(i.a)(y,2),N=S[0],k=S[1],w=Object(a.useState)(!1),C=Object(i.a)(w,2),F=C[0],I=C[1];Object(a.useEffect)((function(){t&&(I(!0),d.fetchImage(t,b).then((function(e){return o(e.hits)})).catch((function(e){return console.log(e)})).finally((function(){return I((function(e){return!e}))})))}),[t,b]);return Object(l.jsxs)(l.Fragment,{children:[F&&Object(l.jsx)(v.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80,timeout:3e3}),Object(l.jsx)("ul",{className:j.a.gallery,children:r&&Object(l.jsx)(m,{images:r,onOpen:function(e){var t=r.find((function(t){return t.id.toString()===e}));k(!N),x(t.largeImageURL)}})}),N&&Object(l.jsx)(_,{onClose:function(){k(!N)},children:Object(l.jsx)("img",{src:O,alt:r.tags,className:j.a.modal_image})}),r&&Object(l.jsx)(p,{onClickLoad:function(){f((function(e){return e+1}))},title:"Load more"})]})}var S=n(4),N=n.n(S),k=n(6);function w(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1],s=function(){o((function(){return""}))};return Object(l.jsx)("header",{className:N.a.searchbar,children:Object(l.jsxs)("form",{className:N.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),s()):Object(k.b)("Input name for search images")},children:[Object(l.jsx)("button",{type:"submit",className:N.a.form_button,children:Object(l.jsx)("span",{className:N.a.button_label,children:"Search"})}),Object(l.jsx)("input",{className:N.a.button_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){var t=e.currentTarget.value.toLowerCase();o((function(){return t}))}})]})})}function C(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(k.a,{autoClose:3e3}),Object(l.jsx)(w,{onSubmit:c}),Object(l.jsx)(y,{searchName:n})]})}o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={"gallery-item":"ImageGalleryItem_gallery-item__2FL0D",item_image:"ImageGalleryItem_item_image__2N_dl","item-image":"ImageGalleryItem_item-image__3nq8y"}},9:function(e,t,n){e.exports={gallery:"ImageGallery_gallery__3VVqC"}}},[[40,1,2]]]);
//# sourceMappingURL=main.c4121731.chunk.js.map