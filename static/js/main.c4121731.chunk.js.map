{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem.js","services/api.js","components/Modal/Modal.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","App.js","index.js","components/ImageGallery/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","ImageGalleryItem","onOpen","images","handleImageClick","event","id","currentTarget","map","image","className","styles","gallery_item","onClick","src","webformatURL","alt","tags","item_image","api","fetchImage","searchName","page","fetch","then","response","ok","json","Promise","reject","Error","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","e","code","removeEventListener","Overlay","target","Button","title","onClickLoad","type","button","ImageGallery","useState","imageElem","setImageElemState","setPageState","imageModal","setImageModalState","showModal","setShowModalState","loading","setLoadinghName","imageApi","hits","catch","error","console","log","finally","prevLoad","color","height","width","timeout","gallery","imageId","find","toString","largeImageURL","modal_image","prevPage","SearchBar","onSubmit","setSearchName","reset","searchbar","searchForm","preventDefault","trim","toast","form_button","button_label","button_input","autoComplete","autoFocus","placeholder","value","onChange","toLowerCase","App","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c4121731.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3k5Bj\",\"Modal\":\"Modal_Modal__2p5Hv\",\"modal_image\":\"Modal_modal_image__3DeoO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1Vaj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"Searchbar_searchForm__2u0Xb\",\"form_button\":\"Searchbar_form_button__2rVTp\",\"button_label\":\"Searchbar_button_label__1dAJb\",\"button_input\":\"Searchbar_button_input__3iNQ0\"};","import React from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem ({onOpen, images}) {\n  \n  const handleImageClick = (event) => {\n  const id = event.currentTarget.id;\n  onOpen(id);\n  };\n\n  return (<>\n    {images.map((image) => {\n      return (\n        <li\n          key={image.id}\n          id={image.id}\n          className={styles.gallery_item}\n          onClick={handleImageClick}\n        >\n          <img\n            src={image.webformatURL}\n            alt={image.tags}\n            className={styles.item_image}\n          />\n        </li>\n      );\n    })}\n  </>);\n};\n","const API_KEY = \"23526463-69d460dc9366e545ff49935bb\";\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction fetchImage(searchName, page) {\n  return fetch(\n    `${BASE_URL}?q=${searchName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`Нет изображения с именем ${searchName}`));\n  });\n}\n\nconst api = {\n  fetchImage,\n};\n\nexport default api;\n","import React, {useEffect} from \"react\";\nimport styles from \"./Modal.module.css\";\n\n\nexport default function  Modal ({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n  }, []);\n\n  const handleOverlayClick = (event) => {\n    if (event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n\n  const handleKeyDown = (e) => {\n\n    if (e.code === \"Escape\") {\n      onClose();\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    }\n  };\n\n  return (\n      <>\n        <div className={styles.Overlay} onClick={handleOverlayClick}>\n          <div className={styles.Modal}>{children}</div>\n        </div>\n      </>\n  );\n}\n","import React from \"react\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ title, onClickLoad }) => {\n  return (\n    <>\n      <button type=\"button\" className={styles.button} onClick={onClickLoad}>\n        {title}\n      </button>\n    </>\n  );\n};\nexport default Button;\n","import React, { useState, useEffect } from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\nimport imageApi from \"../../services/api\";\nimport Modal from \"../Modal/Modal\";\nimport Button from \"../Button/Button\";\nimport Loader from \"react-loader-spinner\";\n\nexport default function ImageGallery({searchName}) {\n  const [imageElem, setImageElemState] = useState(null);\n  const [page, setPageState] = useState(1);\n  const [imageModal, setImageModalState] = useState(null);\n  const [showModal, setShowModalState] = useState(false);\n  const [loading, setLoadinghName] = useState(false);\n  \n \n  useEffect(() => {\n    if (!searchName) {\n      return;\n    }\n    setLoadinghName(true);\n    imageApi\n       .fetchImage(searchName, page)\n        .then((imageElem) => setImageElemState(imageElem.hits))\n        .catch((error) => console.log(error)).finally(()=>setLoadinghName((prevLoad=>!prevLoad)));\n  }, [searchName, page]);\n\n\n  const handleLoad = () => {\n    setPageState((prevPage) => prevPage + 1 );\n  };\n\n  const toggleModal = () => {\n    setShowModalState( !showModal );\n  };\n\n const openModal = (imageId) => {\n    const imageModal =imageElem.find((image) => {\n      return image.id.toString() === imageId;\n    });\n   setShowModalState(!showModal);\n   setImageModalState(imageModal.largeImageURL);\n  };\n\n  return (\n    <>\n      {loading && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            timeout={3000}\n        />\n        )}\n        <ul className={styles.gallery}>\n          {imageElem && (\n            <ImageGalleryItem images={imageElem} onOpen={openModal} />\n          )}\n        </ul>\n        {showModal && (\n          <Modal onClose={toggleModal} >\n            <img\n              src={imageModal}\n              alt={imageElem.tags}\n              className={styles.modal_image}\n            ></img>\n          </Modal>\n        )}\n        {imageElem && (\n          <Button onClickLoad={handleLoad} title={\"Load more\"} />\n        )}\n      </>\n    ); \n};\n","import React, { useState } from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\n\nexport default function SearchBar({onSubmit}) {\n  const [searchName, setSearchName] = useState('');\n\n  const handleSubmite = (e) => {\n    e.preventDefault();\n\n    if (searchName.trim() === \"\") {\n      toast(\"Input name for search images\");\n      return;\n    }\n    onSubmit(searchName);\n    reset();\n  };\n\n  const handleClick = (event) => {\n    const value = event.currentTarget.value.toLowerCase();\n    setSearchName(() => value);\n  };\n\n  const reset = () => {\n    setSearchName(()=> '');\n  };\n  \n  return (\n    <header className={styles.searchbar}>\n         <form className={styles.searchForm} onSubmit={handleSubmite}>\n          <button type=\"submit\" className={styles.form_button}>\n            <span className={styles.button_label}>Search</span>\n          </button>\n\n          <input\n            className={styles.button_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchName}\n            onChange={handleClick}\n          />\n        </form>\n      </header>\n  )\n};\n","import \"./App.css\";\nimport React, { useState } from \"react\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport SearcBar from \"./components/Searchbar/Searchbar\";\nimport { ToastContainer } from \"react-toastify\";\n\n\nexport default function App() {\n  const [searchName, setSearchName] = useState('');\n  \n  return (\n    <div className=\"App\">\n         <ToastContainer autoClose={3000} />\n         <SearcBar onSubmit={setSearchName} />\n        <ImageGallery searchName={searchName} />\n       </div>\n  )\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery-item\":\"ImageGalleryItem_gallery-item__2FL0D\",\"item_image\":\"ImageGalleryItem_item_image__2N_dl\",\"item-image\":\"ImageGalleryItem_item-image__3nq8y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__3VVqC\"};"],"sourceRoot":""}